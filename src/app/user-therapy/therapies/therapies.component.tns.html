<ActionBar title="Therapies" class="action-bar">
    <ActionItem text="Logout" ios.position="true" (tap)="logout()"></ActionItem>
</ActionBar>


<TabView id="tabViewContainer">
    <StackLayout class="page" *tabItem="{title: 'Ongoing'}"> <!-- , iconSource: 'res://icon' -->
        <ListView [items]="ongoingTherapies" class="list-group">
            <ng-template let-therapy="item">
                <GridLayout rows="* auto" columns="*" class="list-group-item active" style="border:1;">
                    <StackLayout [nsRouterLink]="['/therapy', therapy.therapyId]">
                        <Label [text]="therapy.organization.name"
                               class="label-item"></Label>
                        <Label text="Patient : {{therapy.patient.firstName}}"
                               class="label-item"></Label>
                        <Label text="Therapist : {{therapy.med.firstName}}"
                               class="label-item"></Label>
                        <Button class="btn btn-primary w-full" text="View Sessions"
                                [nsRouterLink]="['/therapy', therapy.therapyId]"></Button>
                    </StackLayout>
                </GridLayout>

            </ng-template>
        </ListView>
    </StackLayout>
    <StackLayout class="page" *tabItem="{title: 'Historical'}">
        <ListView [items]="historicalTherapies" class="list-group">
            <ng-template let-therapy="item">
                <GridLayout rows="* auto" columns="*" class="list-group-item active" style="border:1;">
                    <StackLayout [nsRouterLink]="['/therapy', therapy.therapyId]">
                        <Label [text]="therapy.organization.name"
                               class="label-item"></Label>
                        <Label text="Patient : {{therapy.patient.firstName}}"
                               class="label-item"></Label>
                        <Label text="Therapist : {{therapy.med.firstName}}"
                               class="label-item"></Label>
                        <Button  class="btn btn-primary" text="View Report"
                                [nsRouterLink]="['/therapy', therapy.therapyId]"></Button>
                    </StackLayout>

                </GridLayout>
            </ng-template>
        </ListView>
    </StackLayout>
</TabView>
